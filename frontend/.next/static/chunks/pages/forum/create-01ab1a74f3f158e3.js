(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[638],{4787:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forum/create",function(){return a(6221)}])},6221:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return CreatePost}});var r=a(5893),n=a(7294),u=a(7066),o=a(1163);function CreatePost(){let[e,t]=(0,n.useState)(""),[a,s]=(0,n.useState)(""),i=(0,o.useRouter)(),handleCreate=async t=>{t.preventDefault();let r=localStorage.getItem("token");try{await u.Z.post("http://8.216.81.61:5000/api/forum/posts",{title:e,content:a},{headers:{Authorization:"Bearer ".concat(r)}}),alert("帖子创建成功"),i.push("/forum")}catch(e){var n,o;alert((null===(o=e.response)||void 0===o?void 0:null===(n=o.data)||void 0===n?void 0:n.message)||"创建失败")}};return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h2",{children:"创建帖子"}),(0,r.jsxs)("form",{onSubmit:handleCreate,children:[(0,r.jsx)("input",{type:"text",placeholder:"标题",value:e,onChange:e=>t(e.target.value),required:!0}),(0,r.jsx)("textarea",{placeholder:"内容",value:a,onChange:e=>s(e.target.value),required:!0}),(0,r.jsx)("button",{type:"submit",children:"发布"})]})]})}}},function(e){e.O(0,[66,774,888,179],function(){return e(e.s=4787)}),_N_E=e.O()}]);